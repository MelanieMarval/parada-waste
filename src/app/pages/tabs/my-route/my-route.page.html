<ion-header [translucent]="true">
    <app-toolbar></app-toolbar>
</ion-header>

<ion-content [fullscreen]="true" [scrollY]="false">

    <app-background-empty *ngIf="!hasTravel" [title]="'myRoute.ifEmpty.title' | translate" [text]="'myRoute.ifEmpty.text' | translate"></app-background-empty>

    <div *ngIf="hasTravel">
        <ion-card class="card-status" color="light" [ngClass]="{'card-hidden': collapse}" (click)="collapse = !collapse">
            <ion-card-header>
                <div class="button-collapse">
                    <ion-icon class="icon-collapse" *ngIf="collapse" name="chevron-down-outline" size=""></ion-icon>
                    <ion-icon class="icon-collapse" *ngIf="!collapse" name="chevron-up-outline" size=""></ion-icon>
                </div>
                <ion-card-title>Journey #8840</ion-card-title>
                <ion-card-subtitle><b>Receptor:</b> Julia Herrera</ion-card-subtitle>
            </ion-card-header>
            <ion-card-content>
                <p class="detail-p">
                    <ion-text color="tertiary">{{'historic.card.beginIn' | translate}}:</ion-text>
                    {{travel.positionBegin}}
                </p>
                <p class="detail-p">
                    <ion-text color="tertiary">{{'historic.card.endIn' | translate}}:</ion-text>
                    {{travel.positionEnd}}
                </p>
                <div class="button-cancel">
                    <ion-button size="small" color="danger" (click)="confirmCancel($event)">
                        {{'button.cancel' | translate}}
                    </ion-button>
                </div>
            </ion-card-content>
        </ion-card>
    </div>

    <div #mapCanvas *ngIf="hasTravel" id="map_canvas"></div>

</ion-content>

<ion-footer *ngIf="hasTravel">
    <ion-fab vertical="bottom" horizontal="start" class="button-bottom-left">
        <ion-fab-button *ngIf="isNear" (click)="pushNotification()">
            <span>Estoy cerca</span>
        </ion-fab-button>
        <ion-fab-button *ngIf="!isNear" (click)="doneJourney()">
            <span>He llegado</span>
        </ion-fab-button>
    </ion-fab>
    <ion-fab vertical="bottom" horizontal="end">
        <ion-fab-button>
            <ion-icon name="chatbubble"></ion-icon>
        </ion-fab-button>
    </ion-fab>
</ion-footer>
