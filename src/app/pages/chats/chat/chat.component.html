<ion-header>
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-back-button></ion-back-button>
        </ion-buttons>
        <ion-title>
            {{receiver.name}}
        </ion-title>
    </ion-toolbar>
</ion-header>
<div class="progress-bar-container">
    <ion-progress-bar type="indeterminate" color="primary" *ngIf="loading || sending"></ion-progress-bar>
</div>

<ion-content>
    <div class="ion-margin">
        <ion-list>
            <li *ngFor="let sms of messages" class="message" [ngClass]="sms.senderId === user.id ? 'message-right' : ' message-left'">
                <div class="message-text">{{sms.message}}</div>
                <span class="message-time">{{sms.date | date: 'shortTime'}}</span>
            </li>
        </ion-list>
    </div>

    <ion-footer class="footer-input-message">
        <ion-item>
            <ion-textarea [placeholder]="'chats.placeholder' | translate" name="message" [(ngModel)]="message" type="text" maxlength="240"></ion-textarea>
            <ion-buttons slot="end" class="ion-margin-start">
                <ion-button class="ion-no-padding" (click)="sendMessage()" [disabled]="sending">
                    <ion-icon slot="icon-only" name="document-attach" color="primary"></ion-icon>
                </ion-button>
                <ion-button class="ion-no-padding" (click)="sendMessage()" [disabled]="sending">
                    <ion-icon slot="icon-only" name="send" color="primary"></ion-icon>
                </ion-button>
            </ion-buttons>
        </ion-item>
    </ion-footer>
</ion-content>
